!function(a,b,c,d,e,f){var g=a.Ponticlaro={},h=(a.Ponticlaro.Bebop=a.Ponticlaro.Bebop||{},g.Bebop.Media=function(){return{}}()),i=h.AttachmentEditor=function(){var a,b,c,f,g;return{init:function(){a=this,b||(b=d("body")),c||(c="/"+b.find("#bebop-media-config").attr("bebop-media-api-url")),f||(f={listItem:b.find('[bebop-media-edit-attachment-template="list-item"]').html()}),b.on("click","[bebop-media-manage-attachment--action]",function(b){g=d(b.target),"generate:size"==g.attr("bebop-media-manage-attachment--action")?a.generateSize():a.cleanState()})},generateSize:function(){var a=this,b=g.parents("[bebop-media-manage-attachment--list-item]").parent(),h=g.attr("bebop-media-param--id"),i=g.attr("bebop-media-param--size"),j=g.text();g.text("Generating..."),d.ajax({url:c+h+"/generate/"+i,type:"POST",dataType:"json",success:function(a){a.id=h,b.html(e.template(f.listItem,a));var c=g.text();g.text("Done!").delay(5e3).text(c)},error:function(a){g.text("Error!").delay(5e3).text(j)},complete:function(){a.cleanState()}})},cleanState:function(){g=null}}}();d(function(){i.init()})}(window,document,void 0,jQuery,_,Backbone);